{% extends 'base.html' %}
{% block content %}

<div class="container mt-4">
    <h4 class="mb-3">View Orders</h4>

    <table class="table table-bordered table-hover">
        <thead class="table-dark">
            <tr>
                <th>#</th>
                <th>Order ID</th>
                <th>Customer Name</th>
                <th>Service</th>
                <th>Total Price (₹)</th>
                <th>Order Date</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
        {% for i in data %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ i.id }}</td>

                <!-- Customer Name -->
                <td>

                        {{ i.customer_name}}

                </td>

                <!-- Service -->
                <td>
                    {% if i.service %}
                        {{ i.service.service_name }}
                    {% else %}
                        ---
                    {% endif %}
                </td>

                <!-- Total Price (from Service table) -->
                <td>
                    {% if i.service %}
                        ₹ {{ i.service.service_price }}
                    {% else %}
                        ₹ 0
                    {% endif %}
                </td>

                <!-- Order Date (using pickup date) -->
                <td>{{ i.pickup_date }}</td>

                <!-- Status (static, model unchanged) -->
                <td>
                    <span class="badge bg-warning text-dark">Pending</span>
                </td>
            </tr>
        {% empty %}
            <tr>
                <td colspan="7" class="text-center">No orders found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}
